---
title: >-
  [백준/코틀린] 5430번: AC
difficulty: 골드 5
categories: [백준, CLASS 3]
tags: [Kotlin, 구현, 자료구조, 문자열, 파싱, 덱]
description: 덱을 사용해 주어진 명령을 효율적으로 처리하는 Kotlin 자료 구조 문제입니다.
---

## 링크
[5430번: AC](https://www.acmicpc.net/problem/5430)

## 풀이
명령어 `R`은 실제로 배열을 뒤집지 않고, <span class="txt_bg">뒤집힘 여부만 토글하는 방식</span>으로 처리합니다.\
입력된 배열을 덱으로 파싱한 뒤, `R`과 `D` 명령을 순서대로 적용해 최종 결과를 출력합니다.

## 코드
```kotlin
fun main() = repeat(readln().toInt()) {
    val p = readln()
    val n = readln().toInt()
    val t = readln()
    val x = when (n) {
        0 -> emptyList()
        else -> t.drop(1).dropLast(1).split(",").map { it.toInt() }
    }
    var r = false
    val deque = ArrayDeque(x)

    p.forEach {
        when (it) {
            'R' -> r = !r
            'D' -> when {
                deque.isEmpty() -> return@repeat println("error")
                r -> deque.removeLast()
                !r -> deque.removeFirst()
            }
        }
    }

    println(
        when (r) {
            false -> deque
            true -> deque.reversed()
        }.joinToString(",", "[", "]")
    )
}

```
